RBC Dataset Status Report (DSR)

CCNP (GONG)
RIA Store: ssh://sciget.pmacs.upenn.edu/project/RBC/RIA/BIDS/970/4eab1-3320-41f0-9fce-3c6961b4ac96
Cubic Path: /cbica/projects/RBC/testing/colornest/bidsdatasets
Final CuBIDS Outputs: https://github.com/PennLINC/RBC/tree/master/PennLINC/CCNP_BIDS_Fix
Datalad Status: saved, clean
Git Branch: master
DSR: All CCNP subjects ran through fmriprep successfully. We also ran XCP on the entire CCNP, which finished yesterday.
Next Steps: Configure the audit for XCP and run on the outputs. Add README + Authors.

HRC (GONG)
RIA Store: ssh://sciget.pmacs.upenn.edu/project/RBC/RIA/BIDS/98f/55d34-d001-40ac-8056-db2803d3280f
Cubic Path: /cbica/projects/RBC/HRC/working/HRC_datalad
Datalad Status: unlocked
Git Branch: main
DSR: We ran the exemplars through fmriprep using the non-multisession version.
Next Steps: Run the exemplars with the multi-session version of fmriprep. If it comes out clean, run fmriprep on the entire dataset (using the multi-session version).
Data Narrative: https://github.com/PennLINC/HRC/blob/main/working/curation_code/DataNarrative.md

PNC (GONG)
RIA Store: ssh://sciget.pmacs.upenn.edu/project/RBC/RIA/BIDS/6a5/7d847-1441-442d-81d7-04ca51526645
Cubic Path: /cbica/projects/RBC/RBC_RAWDATA/bidsdatasets/PNC
Datalad Status: saved, clean
Git Branch: master
DSR: Fmriprep finished running on the entire dataset. 
Next Steps: Rerun the new, bootstrap version of the audit. Run qsiprep on exemplars and XCP on the entire dataset. 
Data Narrative: /cbica/projects/RBC/PNC/working/curation_code/DataNarrative.md

HBN
RIA Store: ssh://sciget.pmacs.upenn.edu/project/RBC/RIA/BIDS/b32/508c1-d2c1-4b40-a3e3-48df49e7fa56
Cubic Path: /cbica/projects/RBC/RBC_RAWDATA/bidsdatasets/HBN
Datalad Status: saved, clean
Git Branch: master
DSR: Some inconsistencies between what we have on cubic, what's in BIDS_CURATED on aws, and the site specific folders on aws. The site-specific folders have scans missing from BIDS_CURATED, including the abcd protocal scans we are missing on cubic from site-CBIC. I will send you the full breadkwon of the inconsistencies present between BIDS_CURATED, the site-specific folders, and what we have on cubic after this meeting.  
Next Steps: Upload to cubic 32/55 abcd protocol subjects from aws that are currnetly missing from cubic. Upload subjects missing from cubic? Add events tsvs (have peer, need movieDM and movieTP). Use tolerances listed below, apply changes, and push back to PMACS. 
Data Narrative: https://github.com/PennLINC/RBC/blob/master/PennLINC/HBN_BIDS_Fix/HBN_Data_Narrative.md

NKI
Datalad Status: untracked changes: purged too short bold scans  
Git Branch: main
Cubic Path: /cbica/projects/RBC/RBC_RAWDATA/bidsdatasets/NKI
DSR: Purged list of too short bold scans (compiled according to the rules we established with Alex). Alex is regenerating the correct jsons for the 125 T2w scans that showed up as having slice timing. Group/validate running now.
Next Steps: SAVE!!! Truncate subject level events tsvs. Group using config params from meeting with Alex, and apply changes. 


NKI BOLD TO DELETE
(1) task-checkerboard scans with less than the dominant group's quantity of data
- 19 acq-645 check scans with less than the dominant group's quantity of data: 240*0.645/60 = 2.58 mins of data
- 8 check acq-1400 check scans with less than the dominant group's quantity of data: 98*1.4/60 = 2.28666666667 mins of data
- 2 acq-1400RR scans with less than the dominant group's quantity of data: 98*1.4/60 = 2.28666666667 mins of data
- 2 check acq-65RR scans with less than the dominant group's quantity of data: 240*0.645/60 = 2.58 mins of data

(2) 60 task-rest scans with less than 3 mins of data 

(3) task-breathhold 
- 3 breath acq-1400RR scans with less than the dominant group's quantity of data: 191*1.4/60 = 4.45666666667 mins of data
- 20 acq-1400 breathhold scans that have less than the dominant group's quantity of data: 186*1.4/60 = 4.34 mins of data
The task-breathhold dominant groups have more than 3 mins of data. 

HBN FINAL TOLERNACES 
ANAT: EchoTime: 0.002, 
DWI: group 1 = CBIC/CUNY, group 2 = RU, group 3 = SI, EES, TRT, TR 
FMAP: VoxelSizeDim*:0.05mm, EES:0.0001, TRT: 0.01 
FUNC: EES:precision=4, TRT:precision=2

HBN ISSUES (OLD)
- ANAT: Change T1 key group with no acq value to acquisition-SI
- ANAT: Need to delete some T2s, waiting on CMI for which ones (Mike or Alex)
- ANAT: RULE FOR T1s: Ideally, keep the VnavNorm scan with the highest rating. If unscored, keep best one (from plot), if can't tell difference, keep first run. If no VnavNorm, keep Vnav. If neither, keep HCP. 
- DWI + FMAP: tolerate Effective Echo Spacing, Total Readout Time, and Repetition Time
- FMAP: lots of missing PRFIP and MAF, want this in filename? want separate group because of this? SHORTHAND FOR ACQUISITION (UNSET SUGGEST VARIANT RENAME)! 
- FMAP: tolerate VoxelSizeDim1 (0.05mm)
- ADD PixelBandwith to sidecar params!!!!
- RERUN GROUP WITH SES INCLUDED IN GROUPINGS! 


HRC ISSUES
- VALIDATION: 11 new subs still quick validation failing ('bids dir structure doesn't match' description so maybe just having an issue with ses-3?) using the --sequential flag! Matt and I found nothing wrong with them (likely just need to debug the new flag. They passed validation WITHOUT the sequential flag. 
